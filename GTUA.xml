<?xml version="1.0" encoding="UTF-8"?>
<gate>
	<name>GTUA</name>
	<caption>Golden Telecom</caption>
	<type>SMS</type>
	<class>HTTP</class>
	<version>1</version>
	<priority>20</priority>
	<prefixlist>
		<prefix start="+380 39" format="3.2.7"/>
		<prefix start="+380 63" format="3.2.7"/>
		<prefix start="+380 67" end="+380 68" format="3.2.7"/>
		<prefix start="+380 93" format="3.2.7"/>
		<prefix start="+380 96" end="+380 98" format="3.2.7"/>
	</prefixlist>
	<info>
		<maxsymbols>160</maxsymbols>
		<maxunicodesymbols>140</maxunicodesymbols>
		<supportflash>0</supportflash>
		<supportdtdelivery>0</supportdtdelivery>
		<supportunicode>1</supportunicode>
		<captcha>0</captcha>
		<gateurl>http://sms.gt.com.ua/</gateurl>
	</info>
	<classprops>
		<encoding>Windows-1251</encoding>
		<pageurl>http://sms.gt.com.ua/</pageurl>
		<posturl>	http://sms.gt.com.ua:8080/SendSM.htm</posturl>
		<postdata>eval(
					begin
						PostData.Add('SM',SMS['Text']);
						PostData.Add('num',SMS['LeaveSymbols']);
						PostData.Add('CS',iff(IsAscii(SMS['Text']),'s','u'));
						PostData.Add('MN',SMS['Phone']);
					end;
					)
		</postdata>
		<success>eval(HTML.ExistsStr('Message sent.'))</success>
		<error>eval(begin
						if Html.ExistsStr('Daily SM limit for this Subscriber is reached.') then
							Result:='Превышен дневной лимит сообщений для данного абонента'
						else	
							Result:=Html.RegExp('&lt;BR&gt;&lt;BR&gt;(.*?)&lt;BR&gt;',1);
					end;
					)
		</error>
		<checkdelivery>1</checkdelivery>
		<cd_method>GET</cd_method>
		<cd_url>eval('http://sms.gt.com.ua:8080/CheckDS.htm?'+Html.RegExp('CheckDS.htm\?(.*?)&quot;',1))</cd_url>
		<cd_success>eval
				begin
					if Html.ExistsStr('Waiting for delivery') then
						Result:='WAIT'
					else Result:=Html.ExistsStr('Delivered');	
				end;
				)
		</cd_success>
		<cd_error>eval(Html.RegExp('SM State: (.*?)&lt;',1)</cd_error>
	</classprops>
</gate>