<?xml version="1.0" encoding="UTF-8"?>
<gate>
	<name>Bomgovka</name>
	<caption>bomgovka.ru</caption>
	<type>SMS</type>
	<class>HTTP</class>
	<version>1</version>
	<priority>5</priority>
	<country>Россия</country>
	<prefixlist>
		<prefix start="+7 900 000" end="+7 999 999"/>
	</prefixlist>
	<info>
		<maxsymbols>134</maxsymbols>
		<maxunicodesymbols>134</maxunicodesymbols>
		<supportflash>0</supportflash>
		<supportdtdelivery>0</supportdtdelivery>
		<supportunicode>1</supportunicode>
		<supportcheckdelivery>0</supportcheckdelivery>
		<captcha>0</captcha>
		<gateurl>http://bomgovka.ru/</gateurl>
	</info>
	<classprops>
		<encoding>UTF-8</encoding>
		<pageurl>eval('http://bomgovka.ru')</pageurl>
		<posturl>eval('http://bomgovka.ru/sendsms.php')</posturl>
		<postdata>eval(
			begin
				PostData.Add('number','8 ('+SMS['Phone_Def']+') '+Copy(SMS['Phone_Number'],1,3)+'-'+ Copy(SMS['Phone_Number'],4,2)+'-'+Copy(SMS['Phone_Number'],6,2));
				PostData.Add('message',SMS['Text']);
			end;
		)
		</postdata>
		<success>eval(Html.ExistsStr('fa fa-check'))</success>
		<error>eval(
			var
				JS: TJSEval;
				Code: string;
				ErrorText: string;
			begin
				JS:=TJSEval.Create;
				ErrorText := ReplaceStr(Html.RegExp('(\\u.*)&quot;',1),'&quot;','\&quot;');
				Code:=JS.ResultName + '.SetValue("text", "'+ErrorText+'");';
				JS.Exec(Code);
				Result:=JS.GetResultValue('text');
			end;	
			)
		</error>
	</classprops>
</gate>
